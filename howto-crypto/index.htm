<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!--
This program is free software. It comes without any warranty, to
the extent permitted by applicable law. You can redistribute it
and/or modify it under the terms of the Do What The Fuck You Want
To Public License, Version 2, as published by Sam Hocevar and
reproduced below.

DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
Version 2, December 2004

Copyright (C) 2004 Sam Hocevar <sam@hocevar.net>

        Everyone is permitted to copy and distribute verbatim or modified
        copies of this license document, and changing it is allowed as long
        as the name is changed.

DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

        0. You just DO WHAT THE FUCK YOU WANT TO.
-->

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Crypto-HowTo</title>
		<link rel="icon" href="../static/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="../static/favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" type="text/css" href="../static/piracy.css" />
		<meta name="robots" content="noindex,nofollow" />
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<!-- Background pattern provided by subtlepatterns.com -->
	</head>
	<body>
		<div id="center-wrap">
			<div id="content-wrap">
				<div id="content-title">
					<h1>Lustige Cryptodinge mit GPG</h1>
					<h2>Eine Zusammenfassung</h2>
				</div>
				<div id="content-main">
					<div>
						<h2>Wieso verschl&uuml;sseln?</h2>
						<div class="section-padding">
							Weil mans kann? Naja, nicht nur deswegen.
							Der Umgang mit Kryptographie - insbesondere asymmetrischer
							Kryptographie - will gelernt sein, es kann immer mal passieren,
							dass es aus irgendwelchen Gr&uuml;nden n&ouml;tig wird,
							Informationen &uuml;ber einen gesicherten Kanal auszutauschen -
							seien es Passw&ouml;rter, geheime Regierungsunterlagen oder Nacktbilder.
						</div>
					</div>

					<div>
						<h2>Wie verschl&uuml;sseln?</h2>
						<em>Dieser Abschnitt erz&auml;hlt nur ein paar Krypto-Hintergr&uuml;nde und kann prinzipiell &uuml;bersprungen werden.</em>				
						<br/><br/>
						<div class="section-padding">
							Grunds&auml;tzlich unterscheidet man 2 Typen der Kryptographie:
							<h3>Symmetrische Kryptographie</h3>
							Ver- und Entschl&uuml;sselung benutzen den selben Schl&uuml;ssel, dieser muss
							also sowohl dem Sender als auch dem Empf&auml;nger vorher bekannt sein und
							in irgendeiner Form ausgetauscht werden - auch &uuml;ber einen m&ouml;glichst
							sicheren Kanal.
							Vorteile sind wohl die einfachere Umsetzung und Implementierung sowie
							&quot;beweisbarere&quot; Sicherheit und bessere Performance.
							<h3>Asymmetrische (aka Public-Key) Kryptographie</h3>
							Der f&uuml;r &quot;dynamischere&quot; Kommunikation interessantere Teil (und auch der
							um den sich dieses Dokument haupts&auml;chlich dreht).
							Hierbei existieren f&uuml;r einen Schl&uuml;ssel zwei Teile, n&auml;mlich ein 
							privater (geheimer) Teil, der (im besten Fall) nur dem Besitzer bekannt ist und
							ein &ouml;ffentlicher Teil, der jedem bekannt sein darf - und je nach System
							auch m&ouml;glichst weit verbreitet werden soll.
							Algorithmen f&uuml;r asymmetrische Krypto sind eher komplex und langsam,
							daher nutzen sie viele Protokolle um zu Beginn einen gemeinsamen Schl&uuml;ssel
							auszutauschen, mit welchem dann die folgende Kommunikation symmetrisch verschl&uuml;sselt
							wird.
						</div>
					</div>

					<div>
						<h2>Welche Tools brauche ich?</h2>
						<div class="section-padding">
							Hier unterscheiden sich die beiden grossen Betriebssysteme etwas.
							Der Standard f&uuml;r Kommunikation mit asymmetrischer Kryptographie ist der von 
							<a href="http://en.wikipedia.org/wiki/Phil_Zimmermann">Phil Zimmerman</a>
							entwickelte <a href="http://www.ietf.org/rfc/rfc4880.txt">OpenPGP-Standard</a> 
							und seine Implementationen <a href="http://pgp.com/">PGP</a> (das &quot;Original&quot;, 
							gekauft von Symantec) und <a href="https://www.gnupg.org/">GnuPG</a> (Quelloffene, 
							kostenlose Software (FOSS)).

							<h3>Linux</h3>
							Die meisten Distributionen haben GnuPG in ihren Paketarchiven;
							am bequemsten ist es daher, den Paketmanager der Wahl dazu
							zu bewegen, GnuPG zu installieren.
							F&uuml;r Leute, die sich mit der Kommandozeile wohl f&uuml;hlen,
							reicht hierbei die Versionsreihe 1.x vollkommen aus. 
							Diese ist kleiner und hat weniger Abh&auml;ngigkeiten.
							F&uuml;r nicht so text-feste Anwender empfiehlt sich die Versionsreihe
							2.x, die sich mehr in die grafische Umgebung einf&uuml;gt (besonders
							bei der Passworteingabe).

							<p>
							Beispiel Debian:<br/>
							<code>
								apt-get install gnupg
							</code><br/>
							bzw<br/>
							<code>
								apt-get install gnupg2
							</code>
							</p>

							<h3>Windows</h3>
							<p>
							Man k&ouml;nnte sich nat&uuml;rlich die &quot;Originalversion&quot; von
							PGP kaufen, aber hey, wer will schon Geld ausgeben? ;)
							Es gibt einen Windows-Port von GnuPG (gesponsert/betreut vom BSI - nicht sicher
							was man davon halten soll...), welches sich aber nur unter Schmerzen davon 
							&uuml;berzeugen l&auml;sst, sein Interface auf Englisch auszugeben - wer allerdings 
							gerne deutsche Oberfl&auml;chen hat, d&uuml;rfte hier gl&uuml;cklich werden.
							Der Installer vom BSI zieht auch die Windows-Version von
							<a href="http://www.kde.org/applications/utilities/kleopatra/">Kleopatra</a> 
							(einen grafischen Schl&uuml;sselmanager aus dem KDE-Projekt)
							mit nach, der einige Techniken die in diesem Dokument sp&auml;ter beschrieben werden
							(zb. Offline-Masterkeys) nicht oder nur teilweise unterst&uuml;tzt.
							Es w&auml;re daher wohl (auch unter Sicherheitsaspekten) eine gute Idee,
							zumindest die Key-Erzeugung mit einem (Live-)Linux-System vorzunehmen.
							</p>

							Es ist wohl auch m&ouml;glich GnuPG unter Cygwin zu bauen, wenn man
							sich diesen Spass g&ouml;nnen will.

						</div>
					</div>
					
					<div>
						<h2>Was ist ein GPG-Key(pair)?</h2>
						<div class="section-padding">
							<p>
							Eine der Grundeinheiten des GPG-&Ouml;kosystems ist der GPG-Key (bzw das
							GPG-Keypair, bestehend aus einem privaten und einem &ouml;ffentlichen Key), 
							der lose gesagt die Repr&auml;sentation eines Benutzers (bzw. eines Individuums) 
							darstellt.
							</p>
							<p>
							Der Begriff des &quot;Key&quot; ist im PGP-Jargon doppeldeutig: Er kann sowohl
							eine komplette Identit&auml;t meinen, als auch einen spezifischen kryptographischen
							Schl&uuml;ssel. Ein &quot;Identit&auml;tsschl&uuml;ssel&quot; kann mehrere
							&quot;Kryptographieschl&uuml;ssel&quot;, auch mit unterschiedlichen Anwendungsbereichen
							(Signieren, Verschl&uuml;sseln) und Algorithmen (RSA, DSA, ElGamal) besitzen.
							Die Bedeutungen sind sich sehr &auml;hnlich und haben unter anderem gemeinsam, 
							dass sie durch einen sogenannten Fingerprint eindeutig identifiziert werden k&ouml;nnen.
							</p>

							Ein GPG-Key enth&auml;lt mehrere Untereinheiten:

							<h3>User-IDs (UIDs)</h3>
							<p>
							Ein Key kann viele verschiedene Identit&auml;ten eines einzelnen Benutzers
							enthalten. Eine UID besteht aus einem Namen, einer Emailadresse und einem Kommentar.
							Nur das Namensfeld ist zwingend erforderlich, die anderen beiden sind optional.
							</p>

							<p>
							Im Normalfall hat ein Key eine UID f&uuml;r jede Emailadresse, auf der der Benutzer
							verschl&uuml;sselte/signierte Kommunikation senden oder empfangen m&ouml;chte.
							UIDs werden besonders im Zusammenhang mit dem Web of Trust zu wichtigen Merkmalen
							eines Keys.
							</p>
							<p>
							UIDs haben jedoch keinen kryptographischen Einfluss auf den Schl&uuml;ssel,
							sondern gelten nur als Identifikationsm&ouml;glichkeit (bedeutet: Es wird nicht
							an eine bestimmte UID verschl&uuml;sselt, sondern an einen bestimmten Krypto-Key).
							</p>

							<p>
							Der Besitzer eines Keys kann diesem w&auml;hrend seiner Lebenszeit unbegrenzt
							viele UIDs hinzuf&uuml;gen und diese auch wieder &quot;zur&uuml;ckrufen&quot; (revoken).
							Es ist zwar m&ouml;glich eine UID von einem Key zu l&ouml;schen, jedoch
							werden Keys normalerweise additiv importiert - sprich, hat ein anderer User
							den &ouml;ffentlichen Schl&uuml;ssel in einer Version, in der die gel&ouml;schte UID
							noch existiert, so wird diese beim Import der neuen Version nicht gel&ouml;scht,
							sondern existiert weiter.
							</p>

							<h3>Subkeys</h3>
							//TODO
						</div>
					</div>

					<div>
						<h2>Wie erzeuge ich mein Keypair?</h2>
						<p>
						<em>Mangels Erfahrung mit Alternativen werden wir uns hier auf den Umgang mit GnuPG beschr&auml;nken.</em>
						</p>
						<div class="section-padding">
							<p>
							Die Erstellung eines Keypairs ist recht simpel. Ein Aufruf von
							<code>gpg --gen-key</code> führt interaktiv durch die Erstellung
							eines Schlüsselpaares. Hierbei sind die vorgegebenen Standardoptionen
							vollkommen ausreichend; Wer paranoid ist, kann die Schlüsselgröße
							jedoch gern auf <code>4096 bit</code> erhöhen.
							</p>
							
							<p>
							Ein fertig generierter Schlüssel wird im Verzeichnis
							<code>~/.gnupg/</code> abgespeichert (mit <code>--homedir $dir</code>
							kann ein alternativer Pfad angegeben werden). Bei der Verwaltung von subkeys
							auf externen Speichermedien wird diese Option auch von Nutzen sein.
							</p>

							<p>
							Mit der erfolgreichen Generierung eines Keypairs erstellt GnuPG
							automatisch sowohl den privaten-, als auch den öffentlichen Keyring
							(<code>pubring.gpg</code> und <code>secring.gpg</code>).
							</p>
							// TODO: generate subkeys n stuff
						</div>
					</div>

					<div>
						<h2>Wie verschl&uuml;ssele/entschl&uuml;ssele/signiere ich?</h2>
						<div class="section-padding">
							//gpg-agent
						</div>
					</div>

					<div>
						<h2>Wie funktioniert das Web of Trust?</h2>
						<div class="section-padding">
							//signingpolicy
						</div>
					</div>


					<div>
						<h2>Was tun, wenn der Schl&uuml;ssel kompromittiert ist?</h2>
						<div class="section-padding">
						</div>
					</div>
					
					<div>
						<h2>Weiterf&uuml;hrendes &amp; Links</h2>
						<div class="section-padding">
							Sollte euch eines der genannten Projekte sehr gut gefallen,
							w&uuml;rden sie sich alle &uuml;ber Spenden (ob nun Geld oder
							Manpower beim Bugs reporten, Bugs fixen oder User supporten) 
							oder Lob freuen! Denkt dran, nur weil Software kostenlos ist,
							ist sie noch lange nicht wertlos!
							<ul>
								<li>
									<a href="https://www.gnupg.org/documentation/bts.html">GnuPG Bug Tracking System</a>
								</li>
								<li>
									<a href="https://www.gnupg.org/donate/index.html">GnuPG Spenden-Informationen</a>
								</li>
								<li>
									<a href="https://www.gnupg.org/documentation/index.html">GnuPG Dokumentation</a>
								</li>
								<li>
									<a href="http://www.kde.org/community/donations/index.php#money">Kleopatra/KDE Spenden-Informationen</a>
								</li>
							</ul>
							Die Informationen in diesem Dokument wurden zum grossen Teil aus
							dem Kopf geschrieben - unterst&uuml;tzt durch die Dokumentationen
							der verschiedenen Projekte und einige Blogeintr&auml;ge und Mailinglisten-Posts,
							f&uuml;r die wir den Autoren sehr dankbar sind:
							<ul>
								<li>
									<a href="http://lists.gnupg.org/pipermail/gnupg-users/2002-August/014780.html">[gnupg-users] using various subkeys</a>
								</li>
								<li>
									<a href="https://alexcabal.com/creating-the-perfect-gpg-keypair/">Alex Cabal: Creating the perfect GPG Keypair</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				
				<div id="content-foot">
					<a href="../">#kitinfo Sharingparty Portal</a> - Crypto HowTo
				</div>
			</div>
			<div style="text-align:right;padding:0.3em 1em 0 1em;">
				<a href="http://www.kopimi.com/kopimi/"><img src="../static/kopimi.png" alt="kopimi" /></a>
				<a href="http://wtfpl.net/"><img src="../static/wtfpl.png" alt="wtfpl" /></a>
			</div>
		</div>
	</body>
</html>
